{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { ReactiveFormsModule, Validators } from '@angular/forms';\nimport { UnauthorizedError } from 'src/app/exceptions/UnauthorizedError';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"src/app/services/user/user.service\";\nimport * as i4 from \"primeng/api\";\nimport * as i5 from \"@angular/common\";\nfunction LoginComponent_small_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\");\n    i0.ɵɵtext(1, \" Enter a valid email address. \");\n    i0.ɵɵelementEnd();\n  }\n}\nexport class LoginComponent {\n  constructor(formBuilder, router, userService, messageService) {\n    this.formBuilder = formBuilder;\n    this.router = router;\n    this.userService = userService;\n    this.messageService = messageService;\n    this.loginForm = this.formBuilder.group({\n      email: ['', [Validators.email, Validators.required]],\n      password: ['', Validators.required]\n    }, {\n      updateOn: 'submit'\n    });\n  }\n  loginUser() {\n    if (this.loginForm.invalid) {\n      //this.messageService.add({severity: 'error', summary: 'Error', detail: 'Incorrect login data!'});\n      return;\n    }\n    this.userService.login(this.loginForm.value).subscribe({\n      next: () => {\n        this.router.navigate(['home']);\n      },\n      error: e => {\n        if (e instanceof UnauthorizedError) {\n          //this.messageService.add({severity: 'error', summary: 'Error', detail: 'Server connection error'})\n        }\n      }\n    });\n  }\n  static #_ = this.ɵfac = function LoginComponent_Factory(t) {\n    return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.UserService), i0.ɵɵdirectiveInject(i4.MessageService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: LoginComponent,\n    selectors: [[\"app-login\"]],\n    standalone: true,\n    features: [i0.ɵɵStandaloneFeature],\n    decls: 15,\n    vars: 2,\n    consts: [[1, \"form\"], [3, \"formGroup\", \"ngSubmit\"], [\"formControlName\", \"email\", \"placeholder\", \"Email\"], [4, \"ngIf\"], [\"formControlName\", \"password\", \"placeholder\", \"Password\"], [\"type\", \"submit\"]],\n    template: function LoginComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"form\", 1);\n        i0.ɵɵlistener(\"ngSubmit\", function LoginComponent_Template_form_ngSubmit_1_listener() {\n          return ctx.loginUser();\n        });\n        i0.ɵɵelementStart(2, \"div\")(3, \"label\");\n        i0.ɵɵtext(4, \"Email: \");\n        i0.ɵɵelement(5, \"input\", 2);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(6, LoginComponent_small_6_Template, 2, 0, \"small\", 3);\n        i0.ɵɵelementStart(7, \"div\")(8, \"label\");\n        i0.ɵɵtext(9, \"Password: \");\n        i0.ɵɵelement(10, \"input\", 4);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(11, \"button\", 5);\n        i0.ɵɵtext(12, \"Log in\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(13, \"p\");\n        i0.ɵɵtext(14, \"login works!\");\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"formGroup\", ctx.loginForm);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngIf\", ctx.loginForm.controls.email.invalid && (ctx.loginForm.controls.email.dirty || ctx.loginForm.controls.email.touched));\n      }\n    },\n    dependencies: [CommonModule, i5.NgIf, ReactiveFormsModule, i1.ɵNgNoValidate, i1.DefaultValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.FormControlName],\n    styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"names":["CommonModule","ReactiveFormsModule","Validators","UnauthorizedError","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","LoginComponent","constructor","formBuilder","router","userService","messageService","loginForm","group","email","required","password","updateOn","loginUser","invalid","login","value","subscribe","next","navigate","error","e","_","ɵɵdirectiveInject","i1","FormBuilder","i2","Router","i3","UserService","i4","MessageService","_2","selectors","standalone","features","ɵɵStandaloneFeature","decls","vars","consts","template","LoginComponent_Template","rf","ctx","ɵɵlistener","LoginComponent_Template_form_ngSubmit_1_listener","ɵɵelement","ɵɵtemplate","LoginComponent_small_6_Template","ɵɵadvance","ɵɵproperty","controls","dirty","touched","i5","NgIf","ɵNgNoValidate","DefaultValueAccessor","NgControlStatus","NgControlStatusGroup","FormGroupDirective","FormControlName","styles"],"sources":["C:\\Users\\natix\\source\\repos\\BoardGameApp\\frontend\\src\\app\\components\\login\\login.component.ts","C:\\Users\\natix\\source\\repos\\BoardGameApp\\frontend\\src\\app\\components\\login\\login.component.html"],"sourcesContent":["import { CommonModule } from '@angular/common';\nimport { Component} from '@angular/core';\nimport { FormBuilder, ReactiveFormsModule, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { MessageService } from 'primeng/api';\nimport { UnauthorizedError } from 'src/app/exceptions/UnauthorizedError';\nimport { userLoginData } from 'src/app/models/userLoginData';\nimport { UserService } from 'src/app/services/user/user.service';\n\n@Component({\n  selector: 'app-login',\n  standalone: true,\n  imports: [CommonModule, ReactiveFormsModule, ],\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.css'],\n \n})\nexport class LoginComponent {\n\n  loginForm = this.formBuilder.group({\n    email: ['', [Validators.email, Validators.required]],\n    password: ['', Validators.required]\n  }, {updateOn: 'submit'})\n\n  constructor(private formBuilder: FormBuilder, private router: Router, private userService: UserService, private messageService: MessageService){}\n \n  loginUser() {\n    if (this.loginForm.invalid){\n      //this.messageService.add({severity: 'error', summary: 'Error', detail: 'Incorrect login data!'});\n      return;\n    }\n    this.userService.login(this.loginForm.value as userLoginData).subscribe({\n      next: () => {\n        this.router.navigate(['home']);\n      },\n      error: (e) =>{\n        if(e instanceof UnauthorizedError){\n          //this.messageService.add({severity: 'error', summary: 'Error', detail: 'Server connection error'})\n        }\n      }\n    \n    });\n  }\n}\n","<div class = \"form\">\n    <form [formGroup]=\"loginForm\" (ngSubmit)=\"loginUser()\">\n        <div >\n            <label>Email: <input formControlName=\"email\" placeholder=\"Email\"></label>\n        </div>\n            <small *ngIf=\"loginForm.controls.email.invalid && (loginForm.controls.email.dirty || loginForm.controls.email.touched)\">\n                Enter a valid email address.\n            </small>\n        <div>\n            <label>Password: <input formControlName=\"password\" placeholder=\"Password\"></label>\n        </div>\n        <button type=\"submit\">Log in</button>\n    </form> \n</div>\n<p>login works!</p>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}